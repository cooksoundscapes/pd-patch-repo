#N canvas 1252 399 529 525 12;
#X declare -path atoms;
#N canvas 414 302 674 360 reverse 1;
#X obj 190 149 phasor~;
#X obj 190 50 t f f;
#X obj 190 174 *~, f 5;
#X obj 359 271 outlet~;
#X obj 111 30 inlet~;
#X obj 111 80 > 60;
#X obj 111 105 change;
#X obj 111 130 sel 1;
#X msg 111 155 0;
#X obj 190 107 lop~ 40;
#X obj 320 168 r \$0reverse;
#X obj 320 193 != 0;
#X obj 243 237 *~;
#X obj 261 121 inlet~;
#X obj 243 205 +~;
#X obj 111 55 env~;
#X obj 190 24 r \$0time;
#X text 16 38 detect signal to reset phasor, f 12;
#X obj 513 101 r \$0reverse;
#X obj 436 170 *~;
#X obj 513 126 == 0;
#X obj 436 140 +~;
#X obj 455 62 r \$0time;
#X obj 455 87 sig~;
#X obj 513 151 sig~;
#X obj 320 218 sig~;
#X obj 190 74 expr (1/max(1 \, $f1))*2000;
#X connect 0 0 2 0;
#X connect 1 0 26 0;
#X connect 1 1 2 1;
#X connect 2 0 14 0;
#X connect 4 0 15 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 0 1;
#X connect 9 0 0 0;
#X connect 10 0 11 0;
#X connect 11 0 25 0;
#X connect 12 0 3 0;
#X connect 13 0 14 1;
#X connect 13 0 21 0;
#X connect 14 0 12 0;
#X connect 15 0 5 0;
#X connect 16 0 1 0;
#X connect 18 0 20 0;
#X connect 19 0 3 0;
#X connect 20 0 24 0;
#X connect 21 0 19 0;
#X connect 22 0 23 0;
#X connect 23 0 21 1;
#X connect 24 0 19 1;
#X connect 25 0 12 1;
#X connect 26 0 9 0;
#X restore 39 260 pd reverse;
#X obj 25 74 inlet~ fwd;
#X obj 157 366 outlet~;
#X obj 66 206 delwrite~ \$0buffer 5000;
#X obj 157 293 delread4~ \$0buffer;
#X obj 113 22 loadbang;
#N canvas 1 131 429 373 modulation 0;
#X obj 154 300 outlet~;
#X obj 134 76 phasor~;
#X obj 154 250 *~;
#X obj 154 275 +~;
#X obj 134 24 r \$0modRate;
#X obj 222 185 r \$0modInt;
#X obj 222 240 * 0.5;
#X obj 222 265 lop~ 50;
#N canvas 458 221 450 300 tri 0;
#X obj 157 80 *~ -1;
#X obj 156 106 wrap~;
#X obj 131 132 min~;
#X obj 132 51 inlet~;
#X obj 131 186 outlet~;
#X obj 131 158 *~ 2;
#X connect 0 0 1 0;
#X connect 1 0 2 1;
#X connect 2 0 5 0;
#X connect 3 0 0 0;
#X connect 3 0 2 0;
#X connect 5 0 4 0;
#X restore 129 120 pd tri;
#N canvas 833 201 450 300 sine 0;
#X obj 126 37 inlet~;
#X obj 126 88 cos~;
#X obj 126 113 *~ 0.5;
#X obj 126 138 +~ 0.5;
#X obj 126 163 outlet~;
#X obj 126 63 +~ 0.5;
#X connect 0 0 5 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 1 0;
#X restore 185 120 pd sine;
#X obj 223 148 r \$0waveform;
#X obj 129 148 xfader~ flat;
#X obj 134 50 sig~;
#X obj 202 212 sig~;
#X connect 1 0 8 0;
#X connect 1 0 9 0;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X connect 4 0 12 0;
#X connect 5 0 6 0;
#X connect 5 0 13 0;
#X connect 6 0 7 0;
#X connect 7 0 3 1;
#X connect 8 0 11 0;
#X connect 9 0 11 1;
#X connect 10 0 11 2;
#X connect 11 0 2 0;
#X connect 11 1 2 0;
#X connect 12 0 1 0;
#X connect 13 0 2 1;
#X restore 106 234 pd modulation;
#X obj 261 260 limit~ 94 8;
#N canvas 5 275 390 300 pitchshift 1;
#X obj 88 194 outlet~;
#N canvas 718 256 416 373 doubleBuffering 0;
#X obj 20 231 *~;
#X obj 108 319 outlet~;
#X obj 20 151 -~ 0.5;
#X obj 20 176 *~ 0.5;
#X obj 20 201 cos~;
#X obj 226 294 *~;
#X obj 206 215 -~ 0.5;
#X obj 206 240 *~ 0.5;
#X obj 206 265 cos~;
#X obj 206 152 +~ 0.5;
#X obj 206 177 wrap~;
#X obj 108 290 +~;
#X obj 46 108 phasor~;
#X obj 46 84 /~;
#X obj 270 173 *~;
#X obj 75 177 *~;
#X obj 84 84 *~ 0.001;
#X obj 46 38 expr (pow(2 \, $f1/12)-1)*-1;
#X obj 46 12 r \$0pitch;
#X obj 163 89 max~ 1;
#X obj 163 64 r \$0window;
#X obj 75 229 delread4~ \$0pitch;
#X obj 270 225 delread4~ \$0pitch;
#X obj 75 203 +~;
#X obj 270 198 +~;
#X obj 323 67 r \$0magic;
#X obj 252 103 *~;
#X obj 252 68 r \$0time;
#X obj 323 101 > 0;
#X connect 0 0 11 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 0 0;
#X connect 5 0 11 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 5 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X connect 10 0 14 0;
#X connect 11 0 1 0;
#X connect 12 0 2 0;
#X connect 12 0 9 0;
#X connect 12 0 15 0;
#X connect 13 0 12 0;
#X connect 14 0 24 0;
#X connect 15 0 23 0;
#X connect 16 0 13 1;
#X connect 17 0 13 0;
#X connect 18 0 17 0;
#X connect 19 0 16 0;
#X connect 19 0 15 1;
#X connect 19 0 14 1;
#X connect 20 0 19 0;
#X connect 21 0 0 1;
#X connect 22 0 5 1;
#X connect 23 0 21 0;
#X connect 24 0 22 0;
#X connect 25 0 28 0;
#X connect 26 0 24 1;
#X connect 26 0 23 1;
#X connect 27 0 26 0;
#X connect 28 0 26 1;
#X restore 88 167 pd doubleBuffering;
#X obj 88 55 delwrite~ \$0pitch 1000;
#X obj 87 26 inlet~;
#X obj 157 136 limit~ 90 8;
#X obj 157 111 vol~ \$0magic;
#X connect 1 0 0 0;
#X connect 1 0 5 0;
#X connect 3 0 2 0;
#X connect 4 0 2 0;
#X connect 5 0 4 0;
#X restore 66 181 pd pitchshift;
#N canvas 2 167 450 300 filtering 0;
#X obj 119 45 inlet~;
#X obj 119 120 hip~;
#X obj 119 145 hip~;
#X obj 119 170 outlet~;
#X obj 119 70 lop~ 21000;
#X obj 119 95 lop~ 21000;
#X obj 211 50 r \$0lp;
#X obj 169 125 r \$0hp;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 6 0 4 1;
#X connect 6 0 5 1;
#X connect 7 0 2 1;
#X connect 7 0 1 1;
#X restore 157 319 pd filtering;
#X obj 113 73 broadcast \$0;
#X floatatom 28 453 5 0 0 0 - - - 0;
#X obj 28 479 s \$0dry;
#X floatatom 92 454 5 0 0 0 - - - 0;
#X floatatom 172 454 5 0 0 0 - - - 0;
#X obj 172 479 s \$0feedback;
#X floatatom 266 454 5 0 0 0 - - - 0;
#X obj 266 479 s \$0time;
#X floatatom 434 76 5 0 0 0 - - - 0;
#X obj 434 100 s \$0pitch;
#X floatatom 434 125 5 0 0 0 - - - 0;
#X obj 434 149 s \$0magic;
#X floatatom 434 22 5 0 0 0 - - - 0;
#X obj 434 46 s \$0window;
#X floatatom 434 230 5 0 0 0 - - - 0;
#X obj 434 254 s \$0modRate;
#X floatatom 434 181 5 0 0 0 - - - 0;
#X obj 434 205 s \$0modInt;
#X floatatom 434 279 5 0 0 0 - - - 0;
#X obj 434 303 s \$0waveform;
#X obj 434 339 tgl 15 0 empty empty empty 17 7 0 10 #fcfcfc #000000 #000000 0 1;
#X obj 434 364 s \$0reverse;
#X floatatom 434 400 10 0 0 0 - - - 0;
#X obj 434 424 s \$0lp;
#X floatatom 434 449 10 0 0 0 - - - 0;
#X obj 434 473 s \$0hp;
#X obj 92 479 s \$0level;
#X obj 66 155 feed-forward~;
#X obj 288 329 declare -path atoms;
#X obj 25 317 vol~ \$0dry 1;
#X obj 261 235 vol~ \$0feedback 0.2;
#X obj 66 129 vol~ \$0level 0;
#X obj 287 99 r \$0ratio;
#X obj 287 124 atoms/bpm-ratio;
#X obj 287 149 s \$0time;
#X obj 239 378 hradio 20 1 0 8 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0;
#X obj 239 403 + 1;
#X obj 239 428 s \$0ratio;
#X obj 92 422 tgl 20 0 empty empty empty 0 -10 0 12 #fcfcfc #000000 #000000 0 0.8;
#X msg 113 47 reverse 0 \, window 80 \, pitch 0;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 1 0 39 0;
#X connect 1 0 41 0;
#X connect 1 1 10 0;
#X connect 4 0 9 0;
#X connect 5 0 49 0;
#X connect 6 0 0 1;
#X connect 7 0 3 0;
#X connect 8 0 3 0;
#X connect 9 0 2 0;
#X connect 9 0 40 0;
#X connect 11 0 12 0;
#X connect 13 0 36 0;
#X connect 14 0 15 0;
#X connect 16 0 17 0;
#X connect 18 0 19 0;
#X connect 20 0 21 0;
#X connect 22 0 23 0;
#X connect 24 0 25 0;
#X connect 26 0 27 0;
#X connect 28 0 29 0;
#X connect 30 0 31 0;
#X connect 32 0 33 0;
#X connect 34 0 35 0;
#X connect 37 0 8 0;
#X connect 39 0 2 0;
#X connect 40 0 7 0;
#X connect 41 0 37 0;
#X connect 42 0 43 0;
#X connect 43 0 44 0;
#X connect 45 0 46 0;
#X connect 46 0 47 0;
#X connect 48 0 13 0;
#X connect 49 0 10 0;
